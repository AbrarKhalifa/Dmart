@model Dmart.Models.tbl_product
@{
    ViewBag.Title = "addToCart";
    Layout = "~/Views/Shared/_LayoutUser.cshtml";
}

<link href="~/Content/css/addToCartCss.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" rel="stylesheet" />

@using (Html.BeginForm("addToCart", "User", FormMethod.Post))
{
    <p class="text-danger"> @ViewBag.error</p>
    <div class="row d-flex justify-content-center my-4">
        <div class="col-md-8">
            <div class="card mb-4">
                <div class="card-header py-3">
                    <h5 class="mb-0">Cart - 2 items</h5>
                </div>
                <div class="card-body">
                    <!-- Single item -->
                    <div class="row">


                        <input type="hidden" value="@Model.pro_id" name="pid" />
                        <div class="col-lg-3 col-md-12 mb-4 mb-lg-0">
                            <!-- Image -->
                            <div class="bg-image hover-overlay hover-zoom ripple rounded" data-mdb-ripple-color="light">
                                <img src="@Url.Content(Model.pro_image)"
                                     class="w-100" alt="product image" />
                                <a href="#!">
                                    <div class="mask" style="background-color: rgba(251, 251, 251, 0.2)"></div>
                                </a>
                            </div>
                            <!-- Image -->
                        </div>

                        <div class="col-lg-5 col-md-6 mb-4 mb-lg-0">
                            <!-- Data -->
                            <h3><strong>@Model.pro_name</strong></h3>
                            <h4>@Model.pro_description</h4>
                            <h4 class="text-danger">Price : @Model.pro_price</h4>

                        </div>

                        <div class="col-lg-4 col-md-6 mb-4 mb-lg-0">
                            <!-- Quantity -->
                            <div class="d-flex mb-4" style="max-width: 300px">
                                <button class="btn btn-primary px-3 me-2"
                                        onclick="this.parentNode.querySelector('input[type=number]').stepDown(); CalTotal(); return false;"
                                        id="dec">
                                    <i class="fas fa-minus"></i>
                                </button>

                                <div class="form-outline">
                                    <input id="qty" min="1" name="qty" value="1" type="number" class="form-control numget" />
                                </div>

                                <button class="btn btn-primary px-3 ms-2"
                                        onclick="this.parentNode.querySelector('input[type=number]').stepUp(); CalTotal(); return false;" id="inc">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                            <!-- Quantity -->
                            <!-- Price -->
                            <div class="text-start text-md-center">



                                <h4 class="text-danger">Total Price</h4>
                                <input type="text" id="txtTotal" name="price" class="text-center p-2" style="border:double" />

                                <input type="submit" value="ADD TO CART" class="btn btn-primary m-2" />
                            </div>
                            <!-- Price -->
                        </div>

                    </div>
                    <!-- Single item -->

                    <hr class="my-4" />
                </div>
            </div>

        </div>

    </div>
}
<script>
    CalTotal();

   function CalTotal() {
                var quantityInput = document.getElementById("qty").value;
        var number = quantityInput * @Model.pro_price;
        document.getElementById("txtTotal").value = number;
    }



</script>

